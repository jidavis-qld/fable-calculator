<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fable Recipe Validator</title>

<!-- Brand fonts (base64 embedded Zapf Humanist) -->
<link rel="stylesheet" href="fonts.css">

<!-- Validator page styles -->
<link rel="stylesheet" href="css/validator.css">
</head>

</head>
<body>
<div class="page-wrap">

<div class="page-header" style="display:flex; align-items:center; gap:20px;">
  <a href="index.html" class="back-btn">â† Back</a>
  <div>
    <h1>Recipe Validator</h1>
    <p class="subtitle">Select a format, trim and country to explore recommendations and how alternatives compare.</p>
  </div>
</div>

<div class="controls-bar">
  <label>Country:</label>
  <select id="country-select">
    <option value="United States">ğŸ‡ºğŸ‡¸ United States</option>
    <option value="United Kingdom">ğŸ‡¬ğŸ‡§ United Kingdom</option>
    <option value="Australia">ğŸ‡¦ğŸ‡º Australia</option>
    <option value="Europe">ğŸ‡ªğŸ‡º Europe</option>
  </select>
  <label>Q1 beef trim:</label>
  <select id="q1-select">
    <option value="0.1">90CL â€” 10% fat</option>
    <option value="0.15">85CL â€” 15% fat</option>
    <option value="0.2" selected>80CL â€” 20% fat</option>
    <option value="0.25">75CL â€” 25% fat</option>
  </select>
  <div class="constraints">
    <div class="check-item" id="check-fiber" onclick="toggleConstraint('fiber')">
      <div class="check-box"></div>
      <div>
        <div class="check-text">Must be High in Fiber</div>
        <div class="check-sub" id="fiber-sub">â‰¥5g fiber per 100g</div>
      </div>
    </div>
    <div class="check-item" id="check-protein" onclick="toggleConstraint('protein')">
      <div class="check-box"></div>
      <div>
        <div class="check-text">Must be High in Protein</div>
        <div class="check-sub" id="protein-sub">â‰¥10g protein per 100g</div>
      </div>
    </div>
  </div>
  <button class="run-btn" onclick="runValidator()">Run</button>
</div>

<div class="format-tabs" id="format-tabs"></div>

<div class="price-controls-wrap" id="price-controls">
  <p>Adjust beef prices to test sensitivity. Changes apply on next run.</p>
  <div class="price-inputs-grid" id="price-inputs"></div>
</div>

<div id="output"><p class="loading">Loading dataâ€¦</p></div>

</div><!-- /.page-wrap -->

<!-- â”€â”€ JavaScript â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     Load order: country â†’ data â†’ validator
     country.js supplies COUNTRY_CONFIG and CC.
     data.js supplies sbFetch (validator has its own loadData).
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->

<!-- Country configs (COUNTRY_CONFIG, CC) -->
<script src="js/country.js"></script>

<!-- Supabase connection helper (sbFetch) -->
<script src="js/data.js"></script>

<!-- Validator page logic -->
<script src="js/validator.js"></script>

</body>
</html>
